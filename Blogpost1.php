<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="Blogpost1.css">
    <Title>Oscar Obrien Photography</Title>
</head>

<body>
    <div class="Sidebar">
            <h1>Oscar <br> Obrien <br> Photography</h1>
            <ul>
                <a href="Home.php"><li>Home</li></a>
                <a href="Blog.php"><li>Blog</li></a>
                <a href="https://linktr.ee/oscar_obrien?utm_source=linktree_admin_share"><li>Socials</li></a>
            <ul>
        </div>
    <div class="Blogposts">
        <div class="Blogpost">
            <h2> A Windy Weekend </h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Nisl condimentum id venenatis a condimentum vitae sapien pellentesque. Est pellentesque elit ullamcorper dignissim. Natoque penatibus et magnis dis parturient montes nascetur. Nisi porta lorem mollis aliquam ut porttitor. A lacus vestibulum sed arcu non. Penatibus et magnis dis parturient montes nascetur ridiculus mus mauris. Morbi tempus iaculis urna id volutpat lacus. Justo donec enim diam vulputate. Quis viverra nibh cras pulvinar mattis nunc sed blandit libero. Quis auctor elit sed vulputate mi. Rhoncus urna neque viverra justo nec ultrices dui. Lacinia quis vel eros donec ac odio tempor orci. Nibh ipsum consequat nisl vel pretium lectus quam id. Quam pellentesque nec nam aliquam sem et tortor consequat id. Viverra orci sagittis eu volutpat odio facilisis mauris sit. Morbi quis commodo odio aenean sed adipiscing diam. Tincidunt dui ut ornare lectus sit amet est placerat in. Risus at ultrices mi tempus imperdiet nulla malesuada pellentesque. Suspendisse sed nisi lacus sed.

                Varius sit amet mattis vulputate enim.<br><br>Natoque penatibus et magnis dis parturient montes nascetur. Vitae semper quis lectus nulla at volutpat diam ut. Eget mi proin sed libero enim sed. Sit amet facilisis magna etiam tempor orci eu lobortis elementum. Integer vitae justo eget magna. Aliquam eleifend mi in nulla posuere sollicitudin aliquam ultrices. At urna condimentum mattis pellentesque id. Lorem ipsum dolor sit amet. Sed augue lacus viverra vitae congue eu consequat ac. Facilisis volutpat est velit egestas dui. In iaculis nunc sed augue lacus viverra vitae congue eu. Lacus luctus accumsan tortor posuere ac ut consequat semper. Tempor orci dapibus ultrices in iaculis nunc sed augue lacus. Sed augue lacus viverra vitae. Molestie a iaculis at erat pellentesque adipiscing commodo elit at. Tellus molestie nunc non blandit massa enim nec dui. Quis blandit turpis cursus in. Cursus eget nunc scelerisque viverra mauris in aliquam sem fringilla. Eget sit amet tellus cras adipiscing enim eu.

                Habitasse platea dictumst quisque sagittis purus. Duis at tellus at urna condimentum mattis pellentesque id. Feugiat pretium nibh ipsum consequat nisl vel. In mollis nunc sed id semper risus in hendrerit. Volutpat lacus laoreet non curabitur gravida. Tortor consequat id porta nibh venenatis cras. Urna cursus eget nunc scelerisque viverra mauris. Viverra tellus in hac habitasse. Tincidunt lobortis feugiat vivamus at augue eget arcu. Elementum sagittis vitae et leo duis ut diam quam. Et leo duis ut diam. Convallis tellus id interdum velit laoreet. Amet luctus venenatis lectus magna fringilla urna. Porttitor eget dolor morbi non arcu risus quis varius quam. Sit amet venenatis urna cursus eget nunc scelerisque viverra mauris. Non blandit massa enim nec dui nunc. Adipiscing enim eu turpis egestas.

                Nullam non nisi est sit. Mauris pharetra et ultrices neque ornare aenean. <br><br>Et ultrices neque ornare aenean euismod elementum nisi quis. Ornare arcu dui vivamus arcu felis bibendum. Maecenas volutpat blandit aliquam etiam erat velit. In ante metus dictum at. Massa enim nec dui nunc mattis. Turpis massa tincidunt dui ut ornare lectus sit. Volutpat consequat mauris nunc congue. Nibh sit amet commodo nulla facilisi nullam. Mollis nunc sed id semper risus. Commodo nulla facilisi nullam vehicula ipsum a arcu cursus vitae.

                Consequat interdum varius sit amet mattis vulputate enim. Amet est placerat in egestas erat. Pellentesque habitant morbi tristique senectus et netus. Viverra accumsan in nisl nisi scelerisque eu. Volutpat diam ut venenatis tellus in metus vulputate eu. Sit amet luctus venenatis lectus magna fringilla. Augue mauris augue neque gravida in fermentum. Dapibus ultrices in iaculis nunc sed augue lacus. Bibendum enim facilisis gravida neque convallis a. Massa ultricies mi quis hendrerit dolor.

                Duis at tellus at urna condimentum mattis. Id interdum velit laoreet id donec ultrices. Sit amet consectetur adipiscing elit. Aenean vel elit scelerisque mauris pellentesque pulvinar pellentesque habitant morbi. Tempor orci eu lobortis elementum nibh tellus molestie nunc. Neque convallis a cras semper. Nisi est sit amet facilisis magna etiam tempor orci. Nunc sed blandit libero volutpat sed cras ornare. In dictum non consectetur a. Sit amet nisl suscipit adipiscing. Sollicitudin ac orci phasellus egestas tellus rutrum.

                Hac habitasse platea dictumst vestibulum rhoncus est. A arcu cursus vitae congue mauris rhoncus aenean vel. Adipiscing diam donec adipiscing tristique risus nec feugiat in.<br><br>Lobortis scelerisque fermentum dui faucibus in ornare quam. Id faucibus nisl tincidunt eget nullam non. Congue mauris rhoncus aenean vel elit scelerisque mauris pellentesque. Vestibulum morbi blandit cursus risus at. Mauris in aliquam sem fringilla ut morbi tincidunt augue. Sit amet venenatis urna cursus eget. Elementum nibh tellus molestie nunc non blandit massa. Sollicitudin tempor id eu nisl nunc. Proin nibh nisl condimentum id venenatis a condimentum. Neque convallis a cras semper auctor neque vitae tempus quam.

                Sit amet nisl purus in mollis nunc sed id. Porttitor eget dolor morbi non arcu risus quis. Sit amet venenatis urna cursus eget nunc. Varius duis at consectetur lorem donec massa sapien faucibus et. Gravida neque convallis a cras semper auctor neque. Euismod quis viverra nibh cras pulvinar mattis nunc sed blandit. Quisque non tellus orci ac auctor augue. Mauris vitae ultricies leo integer malesuada nunc vel risus. Pharetra pharetra massa massa ultricies mi quis hendrerit. Ac tincidunt vitae semper quis lectus nulla at volutpat diam. Semper feugiat nibh sed pulvinar proin. <br> </p>
        </div>
    </div>
    <div class="Comments">
        <h2> Comments </h2>
        <form action="<?php echo $_SERVER['PHP_SELF']; ?>" method="post">
            Username: <br> <input type="text" name="username"><br>
            Comment: <br> <input type="text" name="comment"><br>
            <input type="submit" name="submit">
        </form>
        <table>
            <?php
                $mysqli = new mysqli("localhost", "root", "", "comments");
                if(isset($_POST['submit']) && !isset($_POST['edit']) && !isset($_POST['delete']))
                {
                    $stmt = $mysqli->prepare("INSERT INTO comment_table(user_name, user_comment, date) VALUES (?, ?, now())");
                    $stmt->bind_param("ss", $_POST['username'], $_POST['comment']);
                    $stmt->execute();
                } else if(isset($_POST['edit'])) {
                    $stmt = $mysqli->prepare("UPDATE comment_table SET user_comment=? WHERE comment_id=?");
                    $stmt->bind_param("si", $_POST['edit_text'], $_POST['edit']);
                    $stmt->execute();
                } else if(isset($_POST['delete'])) {
                    $stmt = $mysqli->prepare("DELETE FROM comment_table WHERE comment_id=?");
                    $stmt->bind_param("i", $_POST['delete']);
                    $stmt->execute();
                }
                $res = $mysqli->query("SELECT * FROM comment_table");
                for ($row_no = $res->num_rows - 1; $row_no >= 0; $row_no--) {
                    $res->data_seek($row_no);
                    $row = $res->fetch_assoc();
                    echo "<tr>";
                    echo "<td>" . $row["user_name"] . "</td>"; 
                    echo "<td>" . $row["date"] . "</td></tr>";
                    echo "<tr>";
                    echo "<td>" . $row["user_comment"] . "</td>";
                    echo "<form action=\"" . $_SERVER['PHP_SELF'] . "\" method=\"post\">";
                    echo "<td><input type=\"text\" name=\"edit_text\"><button type=\"submit\" name=\"edit\" value=\"" . $row["comment_id"] . "\">Edit</button>";
                    echo "<td><button type=\"submit\" name=\"delete\" value=\"" . $row["comment_id"] . "\">Delete</button>";
                    echo "</form>";
                    echo "</tr>";
                }
            ?>
        <table>
    </div>
</body>
